import React from 'react';
import {animated, useTransition} from 'react-spring';
import { withRouter } from 'react-router-dom';
import AppItem from 'components/AppItem';

const AppList = ({apps, locationData, match}) => {

  const {params} = match;

  const transition = useTransition(apps || [], app => app.id, {
    from:{
      opacity: 0,
      transform: 'scale(0)'
    },
    enter:{
      opacity: 1,
      transform: 'scale(1)'
    },
    leave:{
      opacity: 0,
      transform: 'scale(0)'
    },
    trail: 400 / apps.length
  });


  return (
  <div className="container">
    <div className="main-grid">
      {transition.map(({ item , key, props }) => {
        return params.slug === item.slug? null : (
        <animated.div key={key} style={props}>
          <AppItem app={item} locationData={locationData} />
        </animated.div>
        );
      })}
    </div>
  </div>
  )
}

export default withRouter(AppList);
